self.addEventListener("message",async o=>{const{id:t,type:n,payload:s}=o.data;try{if(n==="ensure"){const{getSemanticAdapter:e}=await import("./index-2UHzN8nt.js"),a=await e(s.pref),r=await a.ensureReady();self.postMessage({id:t,ok:!0,result:{name:a.name,ready:r}});return}if(n==="embed"){const{getSemanticAdapter:e}=await import("./index-2UHzN8nt.js"),a=await e(s.pref);await a.ensureReady();const r=await a.embed(s.texts);self.postMessage({id:t,ok:!0,result:r});return}self.postMessage({id:t,ok:!1,error:"Unknown command"})}catch(e){self.postMessage({id:t,ok:!1,error:String((e==null?void 0:e.message)||e)})}});
