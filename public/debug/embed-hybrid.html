<!doctype html>
<meta charset="utf-8">
<title>Hybrid Embedding Debug</title>
<style>body{font:14px/1.45 system-ui,sans-serif;padding:24px;max-width:800px;margin:auto}textarea{width:100%;height:100px}button{margin-right:10px;margin-top:8px}</style>
<h1>Hybrid Embedding Debug</h1>
<p>모드: <select id="mode">
  <option value="local-first">local-first</option>
  <option value="local-only">local-only</option>
  <option value="remote-only">remote-only</option>
</select></p>
<textarea id="txt">한국어 문장을 임베딩합니다.</textarea>
<p>
  <button id="run">Run</button>
</p>
<pre id="out"></pre>
<script type="module">
import { embedHybrid } from '/src/lib/semantic/hybrid.ts';

const out = document.getElementById('out');
const textarea = document.getElementById('txt');
const modeSel = document.getElementById('mode');

document.getElementById('run').onclick = async () => {
  out.textContent = 'Running...';
  try {
    const texts = textarea.value.split('\n').map(s => s.trim()).filter(Boolean);
    const vecs = await embedHybrid(texts, modeSel.value);
    out.textContent = 'ok\n' + JSON.stringify(vecs.map(v => v.length), null, 2);
  } catch (e) {
    out.textContent = 'ERR: ' + e;
  }
};
</script>
